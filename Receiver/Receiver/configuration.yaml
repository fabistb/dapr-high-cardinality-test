apiVersion: dapr.io/v1alpha1
kind: Configuration
metadata:
  name: daprConfig
  namespace: default
spec:
  tracing:
    samplingRate: "1"
    zipkin:
      endpointAddress: "http://localhost:9411/api/v2/spans"
  metric:
    enabled: true
    rules:
    - name: dapr_runtime_service_invocation_req_recv_total
      labels:
      - name: method
        regex:
          "api/Receive/": "api/Receive/.+"
    - name: dapr_runtime_service_invocation_res_sent_total
      labels:
      - name: method
        regex:
          "api/Receive/": "api/Receive/.+"
    - name: dapr_http_client_roundtrip_latency
      labels:
      - name: path
        regex:
          "api/Receive/": "api/Receive/.+"
    - name: dapr_http_client_completed_count
      labels:
        - name: path
          regex:
            "api/Receive/": "api/Receive/.+"
    - name: dapr_http_client_sent_bytes_sum
      labels:
        - name: path
          regex:
            "api/Receive/": "api/Receive/.+"
    - name: dapr_http_client_sent_bytes
      labels:
        - name: path
          regex:
            "api/Receive/": "api/Receive/.+"
    - name: dapr_runtime_acl_global_policy_action_allowed_total
      labels:
        - name: operation
          regex:
            "api/Receive/": "api/Receive/.+"